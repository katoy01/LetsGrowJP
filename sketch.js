// our world object - this object handles our tiles, drawing the world and converting screen
// coordinates into game coordinates
let theWorld;
// our user controlled character object - see Player.js for more information

let thePlayer;

// room data - loaded in from an external file (see 'data/rooms.json')
let roomData;

// create an object to hold our "world parameters" - we will send this object into our
// OverheadWorld to tell it how our world is organized
let worldParameters = {
    tileSize: 16,
    tileFolder: 'assets',
    numTiles: 0,
    tileMap: [
    //                          10                            20                            30                            40                            50                            60                            70                            80
    [13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13],
    //                                           10                                                20                                                 30                                               40                                      50                                       60                                      70                                      80
    [13,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2222,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,2812,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,13],
    [13,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2370,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,2812,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,1640,13],

    [13,2369,2521,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2517,2518,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,2812,3848,3849,1640,1640,3848,3849,1640,1640,3848,3849,1640,1640,1640,13],
    //                                           10                                                20                                                 30                                             40                                        50                                         60                                          70                                          80
    [13,2369,2370,3850,3851,3855,4782,4296,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4297,4298,607,4005,4006,607,607,607,3850,3851,607,607,607,607,607,607,607,4003,607,4002,607,607,607,607,607,607,2630,2631,607,607,607,2812,3996,3997,1640,1640,3996,3997,1640,1640,3996,3997,1640,1640,1640,13],
    //start row of farm plots 
    //                                         10                                                20                                              30                                            40                                        50                                   60                                            70                                               80
    [13,2369,2370,3998,3999,1207,1059,4444,1647,1651,1651,1651,1651,1651,1651,1651,1503,607,3850,3851,607,607,1647,1651,1651,1651,1651,1651,1651,1651,1651,1503,607,3850,3851,607,607,1203,1059,607,607,607,3998,3999,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,2778,2779,607,607,607,2960,2961,2961,2961,2961,2961,2961,2961,2961,2961,2961,2377,2369,2369,13],
    //                                         10                                                20                                              30                                             40                                        50                                            60                                             70                                              80
    [13,2369,2370,3855,909,909,1060,4444,1649,1339,1339,1339,1339,1339,1339,1339,1504,607,3998,3999,607,607,1649,1339,1339,1339,1339,1339,1339,1339,1339,1504,607,3998,3999,607,4152,1205,1060,4152,607,607,607,607,607,607,607,3850,3851,607,4151,607,607,1095,1096,1097,1098,1099,607,607,2778,2779,607,607,4297,4297,4297,4297,4297,4297,4297,4297,4297,4298,607,607,2812,2369,2369,13],
    //                                         10                                             20                                              30                                             40                                         50                                             60                                               70                                              80
    [13,2369,2370,1205,909,909,1060,4444,1649,1339,1339,1339,1339,1339,1339,1339,1504,607,607,3850,3851,607,1649,1339,1339,1339,1339,1339,1339,1339,1339,1504,607,607,607,607,4152,1205,1060,4152,607,607,607,607,4002,607,607,3998,3999,607,607,607,607,1243,1244,1245,1246,1247,3072,3073,3074,3075,3076,3077,1207,1207,2584,2585,2586,1207,1207,1697,1697,4446,607,607,2812,2369,2369,13],
    //edge row right above bpttom row of plot 
    //                                         10                                             20                                              30                                               40                                        50                                           60                                               70                                           80
    [13,2369,2370,1205,909,909,1060,4444,1649,1339,1339,1339,1339,1339,1339,1339,1504,607,607,3998,3999,607,1649,1339,1339,1339,1339,1339,1339,1339,1339,1504,607,3850,3851,607,4152,1205,1060,4152,607,607,4152,607,607,607,607,607,607,607,607,607,607,1391,1392,1393,1394,1395,3220,3221,3222,3223,3224,3225,908,908,2732,2733,2734,2882,908,908,1697,4446,607,607,2812,2369,2369,13],
    //end row of farm plots 
    //                                         10                                              20                                              30                                               40                                        50                                           60                                               70                                           80
    [13,2369,2370,1205,909,909,1060,4444,1501,1502,1502,1502,1502,1502,1502,1502,1500,607,3850,3851,607,607,1501,1502,1502,1502,1502,1502,1502,1502,1502,1500,607,3998,3999,607,4004,1205,1060,4004,607,607,607,607,607,607,607,607,607,607,607,607,607,1539,1540,1541,1542,1543,908,3369,3370,3371,3372,908,908,908,908,908,908,908,908,908,1697,4446,607,607,2812,2369,2369,13],
    //^10th row
    //                                         10                                               20                                                 30                                                40                                                50                                           60                                               70                                           80
    //end corner row of fence                                     4299 is gate                                                                                                                                               4591 below                                                                                                                      1060 is side dirt
    [13,2369,2370,1205,909,909,1060,4592,4593,4593,4593,4593,4593,4299,4593,4593,4593,4593,3998,3999,4593,4593,4593,4593,4593,4593,4299,4593,4593,4593,4593,4593,4593,4593,4593,4593,4589,1205,1060,4588,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,1687,1688,1689,1690,1691,908,3517,3518,3519,3520,908,908,908,908,908,908,908,908,908,1060,4446,607,607,2812,2369,2369,13],
    //                                                                                                                                                                                                                               1546 below
    //                                         10                                               20                                               30                                              40                                         50                                        60                                      70                                           80
    [13,2369,2370,1205,909,909,1208,1207,1207,1207,1207,1207,1209,909,1208,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1209,909,1208,1207,1207,1207,1207,1207,1207,1207,1207,1207,1209,1198,1207,1207,3854,3854,4591,908,908,908,908,908,909,908,1398,1398,908,908,908,908,908,908,908,908,908,908,908,908,908,908,908,908,908,908,908,1060,4446,607,607,2812,2369,2369,13],
    //                                        10                                             20                                             30                                                40                                         50                                      60                                      70                                           80
    [13,2369,2370,1205,909,909,909,3721,3721,3721,3721,3721,909,909,909,3721,3721,3721,3721,3721,3721,3721,3721,3721,3721,909,909,909,3721,3721,3721,3721,3721,3721,3721,3721,3721,909,909,909,909,909,3854,4591,1697,909,909,909,909,909,909,1545,1546,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                     10                                      20                                      30                                       40                                         50                                      60                                      70                                          80
    [13,2369,2370,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4591,2725,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                     10                                      20                                      30                                       40                                         50                                      60                                      70                                          80
    [13,2369,2370,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4591,2873,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                        10                                               20                                               30                                                40                                         50                                      60                                      70                                           80
    [13,2369,2370,1205,909,909,1062,1058,1058,1058,1058,1206,909,1062,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1206,909,1062,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1206,909,909,909,1060,4591,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                         10                                               20                                                30                                                40                                         50                                      60                                      70                                           80
    [13,2369,2370,1205,909,909,1060,4296,4297,4297,4297,4297,4299,4297,4297,4297,4297,4297,4297,3850,3851,4440,4297,4297,4297,4441,4299,4440,4297,4297,4297,4297,4297,4297,4297,4297,4297,4298,1205,909,909,909,1060,4591,2725,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                         10                                               20                                               30                                           40                                         50                                      60                                      70                                           80
    [13,2369,2370,1205,909,909,1060,4446,1647,1651,1651,1651,1651,1651,1651,1651,1651,1503,607,3998,3999,607,1647,1651,1651,1651,1651,1651,1651,1651,1651,1651,1503,607,607,607,607,4446,1205,909,909,909,1060,4591,2873,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                         10                                               20                                               30                                           40                                         50                                      60                                      70                                           80    
    [13,2369,2370,1205,909,909,1060,4446,1649,1353,1353,1353,1353,1353,1353,1353,1353,1504,3850,3851,607,607,1649,1353,1353,1353,1353,1353,1353,1353,1353,1353,1504,607,607,607,607,4446,1205,909,909,909,1060,4591,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //                                         10                                               20                                               30                                             40                                         50                                      60                                      70                                           80    
    [13,2369,2370,1205,909,909,1060,4446,1649,1353,1353,1353,1353,1353,1353,1353,1353,1504,3998,3999,607,607,1649,1353,1353,1353,1353,1353,1353,1353,1353,1353,1504,607,3850,3851,607,4446,1205,909,909,909,1060,4591,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,4446,607,607,2812,2369,2369,13],
    //^20th row
    //                                         10                                               20                                            30                                             40                                             50                                                60                                                70                                             80    
    [13,2369,2370,1205,909,909,1060,4446,1649,1353,1353,1353,1353,1353,1353,1353,1353,1504,607,607,607,607,1649,1353,1353,1353,1353,1353,1353,1353,1353,1353,1504,607,3998,3999,607,4446,1205,909,909,909,1060,4446,1057,1058,1058,1058,1058,1058,1058,1058,1058,1058,1206,1062,1058,1058,1058,1058,1058,1058,1058,1058,1058,1399,1400,1058,1058,1058,1058,1058,1056,4446,607,607,2812,2369,2369,13],
    //                                         10                                               20                                            30                                            40                                             50                                                60                                                70                                            80    
    [13,2369,2370,1205,909,909,1060,4446,1649,1353,1353,1353,1353,1353,1353,1353,1353,1504,607,607,607,607,1649,1353,1353,1353,1353,1353,1353,1353,1353,1353,1504,607,607,607,607,4446,1205,909,909,909,1060,4592,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4299,4299,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4594,607,607,2812,2369,2369,13],
    //                                         10                                               20                                            30                                           40                                             50                                                60                                                70                                             80    
    [13,2369,2370,1205,909,909,1060,4446,1501,1502,1502,1502,1502,1502,1502,1502,1502,1500,607,607,607,607,1501,1502,1502,1502,1502,1502,1502,1502,1502,1502,1500,607,607,607,607,4446,1205,909,909,909,1208,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1209,1208,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1059,607,607,2812,2369,2369,13],
    //                                         10                                                20                                               30                                           40                                        50                                       60                                     70                                           80   
    [13,2369,2370,1205,909,909,1060,4592,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4593,4594,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,607,607,2812,2369,2369,13],
    //                                       10                                            20                                       30                                      40                                      50                                       60                                     70                                          80   
    [13,2369,2370,1205,909,909,1060,607,607,3014,3015,3016,3017,3018,3019,3020,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,607,607,2812,2369,2369,13],
    //                                       10                                             20                                       30                                       40                                              50                                                60                                                70                                             80   
    [13,2369,2370,1205,909,909,1060,607,607,3162,3163,3164,3165,3166,3167,3168,607,607,4004,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,1205,909,909,1062,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1056,607,607,2812,2369,2369,13],
    //                                       10                                             20                                         30                                       40                                          50                                      60                                      70                                         80   
    [13,2369,2370,1205,909,909,1060,6958,607,3310,3311,3312,3313,3314,3315,3316,607,607,607,607,607,3850,3851,607,607,607,607,4004,607,607,607,607,607,607,607,607,607,607,1205,909,909,1060,607,3850,3851,607,4003,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,2812,2369,2369,13],
    //                                       10                                              20                                         30                                      40                                          50                                            60                                                70                                           80   
    [13,2369,2370,1205,909,909,1060,7106,607,3458,3459,3460,3461,3462,3463,3464,607,607,4003,607,607,3998,3999,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,1205,909,909,1060,607,3998,3999,607,607,607,607,607,607,607,1802,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,2087,1946,607,607,607,607,2812,2369,2369,13],
    //                                        10                                              20                                         30                                    40                                          50                                            60                                                70                                           80   
    [13,2369,2370,1205,909,909,1060,7254,3857,3606,3607,3608,3609,3610,3611,3612,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,4003,607,1205,909,909,1060,607,607,607,607,607,607,607,607,607,607,1800,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,607,607,607,2812,2369,2369,13],
    //                                      10                                        20                                      30                                        40                                      50                                              60                                                70                                           80    
    [13,2369,2370,1205,909,909,1060,607,607,607,607,1205,909,1060,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,1205,909,909,1060,607,607,607,607,607,607,607,607,607,607,1800,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,607,607,607,2812,2369,2369,13],
    //^30th row 
    //                                        10                                               20                                                30                                                40                                       50                                              60                                                70                                             80    
    [13,2369,2370,1205,909,909,1208,1207,1207,1207,1207,1209,909,1208,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1207,1209,909,909,1060,607,607,607,607,607,607,607,607,607,607,1800,1936,1936,1936,1936,1936,2226,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,3850,3851,607,2812,2369,2369,13],
    //                                     10                                      20                                      30                                      40                                        50                                              60                                                70                                             80    
    [13,2369,2370,1205,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,6958,607,607,607,607,607,607,607,607,607,1800,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,3998,3999,607,2812,2369,2369,13],
    //                                      10                                      20                                      30                                      40                                         50                                              60                                                70                                           80    
    [13,2369,2370,1205,6958,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,909,1060,7106,607,607,607,607,4782,607,607,607,607,1800,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,2226,1936,1936,1936,1936,1945,607,607,607,607,2812,2369,2369,13],
    //                                      10                                      20                                      30                                      40                                         50                                              60                                                70                                           80    
    [13,2369,2370,4155,7106,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,1058,607,7254,607,607,607,607,607,607,607,607,607,1800,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,4004,607,607,2812,2369,2369,13],
    //                                      10                                          20                                      30                                      40                                      50                                              60                                                70                                           80    
    [13,2369,2370,607,7254,3856,607,607,607,3850,3851,607,607,607,607,607,3850,3851,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,1800,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1929,1947,1947,1947,1949,607,607,607,607,2812,2369,2369,13],
    //                                       10                                          20                                      30                                      40                                      50                                             60                                               70                                         80    
    [13,2369,2369,2371,2222,4155,607,607,607,3998,3999,607,607,607,607,607,3998,3999,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,1948,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,607,607,607,607,607,607,607,2368,2369,2369,13],
    //                                          10                                                20                                                30                                                40                                             50                                            60                                               70                                               80    
    [13,2369,2369,2369,2369,2376,3850,3851,2376,2376,2376,2376,2376,3850,3851,2376,2376,2376,2376,2376,2376,3850,3851,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2376,2222,607,607,607,607,607,607,607,1948,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1936,1945,607,607,2220,2221,2221,2221,2221,2221,2369,2369,2369,13],
    //                                          10                                                20                                                30                                                40                                             50                                            60                                               70                                               80    
    [13,2369,2369,2369,2369,2369,3998,3999,2369,2369,2369,2369,2369,3998,3999,2369,2369,4155,2369,2369,2369,3998,3999,2369,4155,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2370,607,607,607,607,4003,607,607,607,1948,1947,1947,1947,1947,1947,1947,1947,1947,1947,1947,1947,1947,1949,607,607,2368,2369,2369,2369,2369,2369,2369,2369,2369,13],
    //                                          10                                                20                                                30                                                40                                             50                                            60                                               70                                               80    
    [13,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2369,2370,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,607,2368,2369,2369,2369,2369,2369,2369,2369,2369,13],
    [13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13],
    //^40th row
    ]
    solidTiles: { 0: true, 18: true, 6: true }
};

// handle the tile loading and creating our player object in preload before the game can start
function preload() {
    worldParameters.numTiles = tileMap.width / worldParameters.tileSize;

    // create our world
    theWorld = new OverheadWorld(worldParameters);

    // create our player
    thePlayer = new Player(100, 100, theWorld);
}

function setup() {
    createCanvas(960, 480);
}

function setup() {
    createCanvas(960, 480);
    // 

}

function allDone(worldData) {
    console.log("here");
}

function badStuffHappened(result) {
    console.log(result);
}

function draw() {
    background(0);
    ellipse(width / 2, height / 2, 48, 48);
}

